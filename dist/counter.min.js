(function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};!function(a,b){return"function"==typeof define&&define.amd?define(function(){return b(a)}):a.Counter=b(a)}(this,function(b){var c;return c=function(){function c(b,d,e,f){null==f&&(f={}),this.count=a(this.count,this),this.polyFill(),this.element="string"==typeof b?document.querySelector(b):b,this.options=this.extend(f,this.getAttributes(),c.DEFAULTS),this.startVal=this._startVal=+d,this.endVal=this._endVal=+e,this.countDown=this.startVal>this.endVal?!0:!1,this.startTime=null,this.timestamp=null,this.remaining=null,this.rAF=null,this.frameVal=this.startVal,this.decimals=Math.max(0,this.options.decimals),this.dec=Math.pow(10,this.decimals),this.duration=1e3*this.options.duration,this.isRunning=!1,""===this.options.separator&&(this.options.grouping=!1),this.options.autostart?this.start():this.printValue(this.startVal)}return c.VERSION="0.1.2",c.DEFAULTS={autostart:!1,easing:!0,grouping:!0,separator:",",decimal:".",prefix:"",suffix:"",decimals:0,duration:2},c.prototype.polyFill=function(){var a,c,d;for(d=0,a=0,c=["webkit","moz","ms","o"];d<c.length&&!b.requestAnimationFrame;)b.requestAnimationFrame=b[""+c[d]+"RequestAnimationFrame"],b.cancelAnimationFrame=b[""+c[d]+"CancelAnimationFrame"]||b[""+c[d]+"CancelRequestAnimationFrame"],d++;return b.requestAnimationFrame||(b.requestAnimationFrame=function(c){var d,e,f;return d=(new Date).getTime(),f=Math.max(0,16-(d-a)),e=b.setTimeout(function(){return c(d+f)},f),a=d+f,e}),b.cancelAnimationFrame?void 0:b.cancelAnimationFrame=function(a){return clearTimeout(a)}},c.prototype.extend=function(a){var b,c,d,e;for(b=1;b<arguments.length;){d=arguments[b];for(c in d)e=d[c],null==a[c]&&(a[c]=e);b++}return a},c.prototype.parseDataAttribute=function(a){return("on"===a||"yes"===a||"true"===a||"1"===a)&&(a=!0),("off"===a||"no"===a||"false"===a||"0"===a)&&(a=!1),a},c.prototype.getDataAttribute=function(a,b){return null==b&&(b=this.element),this.parseDataAttribute(b.getAttribute("data-"+a))},c.prototype.getAttributes=function(){return{autostart:this.getDataAttribute("autostart"),easing:this.getDataAttribute("easing"),grouping:this.getDataAttribute("grouping"),separator:this.getDataAttribute("separator"),decimal:this.getDataAttribute("decimal"),decimals:this.getDataAttribute("decimals"),duration:this.getDataAttribute("duration"),prefix:this.getDataAttribute("prefix"),suffix:this.getDataAttribute("suffix")}},c.prototype.printValue=function(a){var b;return b=isNaN(a)?"--":this.formatNumber(a),"INPUT"===this.element.tagName?this.element.value=b:this.element.innerHTML=b,b},c.prototype.easeOutExpo=function(a,b,c,d){return c*(-Math.pow(2,-10*a/d)+1)*1024/1023+b},c.prototype.count=function(a){var b;return null===this.startTime&&(this.startTime=a),this.timestamp=a,b=a-this.startTime,this.remaining=this.duration-b,this.frameVal=this.options.easing?this.countDown?this.startVal-this.easeOutExpo(b,0,this.startVal-this.endVal,this.duration):this.easeOutExpo(b,this.startVal,this.endVal-this.startVal,this.duration):this.countDown?this.startVal-(this.startVal-this.endVal)*(b/this.duration):this.startVal+(this.endVal-this.startVal)*(b/this.duration),this.frameVal=this.countDown?this.frameVal<this.endVal?this.endVal:this.frameVal:this.frameVal>this.endVal?this.endVal:this.frameVal,this.frameVal=Math.round(this.frameVal*this.dec)/this.dec,this.printValue(this.frameVal),b<this.duration?this.rAF=requestAnimationFrame(this.count):(this.isRunning=!1,null!=this.callback?this.callback():void 0)},c.prototype.start=function(a){return this.callback=a,isNaN(this.endVal)||isNaN(this.startVal)?(console.error("Counter error: startVal or endVal is not a number"),this.printValue()):(this.isRunning=!0,this.rAF=requestAnimationFrame(this.count)),this},c.prototype.stop=function(){return cancelAnimationFrame(this.rAF),this.isRunning=!1,this},c.prototype.reset=function(){return this.startTime=null,this.startVal=this._startVal,this.isRunning=!1,cancelAnimationFrame(this.rAF),this.printValue(this.startVal),this},c.prototype.resume=function(){return this.stop(),this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.isRunning=!0,requestAnimationFrame(this.count),this},c.prototype.formatNumber=function(a){var b,c,d,e;if(a=""+a.toFixed(this.decimals),c=a.split("."),d=c[0],e=c.length>1?this.options.decimal+c[1]:"",b=/(\d+)(\d{3})/,this.options.grouping)for(;b.test(d);)d=d.replace(b,"$1"+this.options.separator+"$2");return""+this.options.prefix+d+e+this.options.suffix},c}()})}).call(this);